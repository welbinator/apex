'use strict';(function(v,g){const l={themes:{},overlay:null,init(){const a=g.getElementsByClassName("tb_more_details");for(let d=a.length-1;-1<d;--d)a[d].addEventListener("click",this.details.bind(this));this.themes=_tbpThemeSettings;_tbpThemeSettings=null;this.overlay=g.getElementsByClassName("theme-overlay")[0];this.activateImportedTheme()},details(a){a.preventDefault();a.stopPropagation();a=parseInt(a.currentTarget.getAttribute("data-id"));const d=wp.template("tbp-theme-single"),e=this;let f=null,
n,p;for(let b=this.themes.length-1;-1<b;--b)if(this.themes[b].theme_id===a){f=this.themes[b];n=this.themes[b+1];p=this.themes[b-1];break}if(null!==f){f.next=void 0!==n;f.prev=void 0!==p;f.active?this.overlay.classList.add("active"):this.overlay.classList.remove("active");this.overlay.innerHTML=d(f);let b,a,h,q,k;const r=function(c){c.preventDefault();c.stopPropagation();e.overlay.innerHTML="";e.overlay.classList.add("active");t()},m=function(c){c.preventDefault();c.stopPropagation();if(!this.classList.contains("disabled")){c=
this.classList.contains("left")?p.theme_id:n.theme_id;const a=g.getElementsByClassName("tb_more_details");for(let b=a.length-1;-1<b;--b)if(a[b].getAttribute("data-id")==c){t();a[b].click();break}}},l=function(a){a.stopPropagation();a.preventDefault();confirm(_tbp_app.confirmDelete)&&(window.location.href=this.href)},u=function(a){a.stopPropagation();a.preventDefault();g.getElementsByClassName("tbp_themes")[0].querySelector('.tbp_lightbox_edit[data-post-id="'+this.getAttribute("data-post-id")+'"]').click();
r(a)},t=function(){b.removeEventListener("click",m);a.removeEventListener("click",m);q.removeEventListener("click",r,{once:!0});void 0!==h&&h.removeEventListener("click",l);void 0!==k&&k.removeEventListener("click",u)};q=this.overlay.getElementsByClassName("close")[0];b=this.overlay.getElementsByClassName("left")[0];a=this.overlay.getElementsByClassName("right")[0];h=this.overlay.getElementsByClassName("delete-theme")[0];k=this.overlay.getElementsByClassName("tbp_lightbox_edit")[0];void 0!==h&&h.addEventListener("click",
l);void 0!==k&&k.addEventListener("click",u);q.addEventListener("click",r,{once:!0});b.addEventListener("click",m);a.addEventListener("click",m)}},activateImportedTheme(){v("body").on("themify_plupload_selected",function(a,d,e){null!==e.active&&(confirm(e.msg)?window.location.href=e.active:window.location.reload(!0))})}};"complete"===g.readyState?l.init():window.addEventListener("load",function(){l.init()},{once:!0,passive:!0})})(jQuery,document);
