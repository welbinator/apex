'use strict';(function(e){const k=ThemifyBuilderModuleJs.cssUrl+"video_styles/",l=function(a){a.preventDefault();a.stopPropagation();a=this.closest(".module-video");a.setAttribute("data-auto",1);a.setAttribute("data-clicked",1);this.remove();e.trigger("tb_video_init",[[a]])};e.on("tb_video_init",function(a){a instanceof jQuery&&(a=a.get());for(let g=a.length-1;-1<g;--g){let f=a[g];var c=f.getAttribute("data-url"),d=f.getElementsByClassName("tb_video_overlay")[0];if(c){!e.cssLazy.tb_video_overlay&&
f.classList.contains("video-overlay")&&(e.cssLazy.tb_video_overlay=!0,e.LoadCss(k+"overlay.css"));if(d)e.cssLazy.tb_video_play_button||(e.cssLazy.tb_video_play_button=!0,e.LoadCss(k+"play_button.css")),d.addEventListener("click",l,{once:!0});else{d=e.parseVideo(c);let a=f.getElementsByClassName("video-wrap")[0],b,g=f.hasAttribute("data-auto"),k=g&&!f.hasAttribute("data-clicked")?!0:f.hasAttribute("data-muted");if(null===a.querySelector("iframe,video")){if("youtube"===d.type||"vimeo"===d.type){let a;
b=document.createElement("iframe");if("youtube"===d.type){a="https://www.youtube.com/embed/"+d.id+"?autohide=1&border=0&wmode=opaque&playsinline=1";if(c=c.split("?")[1]){var h=new URLSearchParams(c);c=h.get("t");let b=h.get("list");h=h.get("rel");c&&(a+="&start="+c);b&&(a+="&list="+b);null!==h&&(a+="&rel="+h)}c="accelerometer;encrypted-media;gyroscope;picture-in-picture"}else a="https://player.vimeo.com/video/"+d.id+"?portrait=0&title=0&badge=0",c="fullscreen";k&&(a+="youtube"===d.type?"&mute=1":
"&muted=1");g&&(c+=";autoplay",a+="&autoplay=1");b.setAttribute("allowfullscreen","");b.setAttribute("allow",c);b.setAttribute("src",a)}else b=document.createElement("video"),b.src=c,b.controls=!0,b.setAttribute("webkit-playsinline",1),b.setAttribute("playsinline",!0),g&&(b.autoplay=!0),k&&(b.muted=!0);b.className="tf_abs tf_w tf_h";a.appendChild(b);"youtube"!==d.type&&"vimeo"!==d.type&&e.video([b])}}f.classList.remove("tf_lazy")}}})})(Themify);
