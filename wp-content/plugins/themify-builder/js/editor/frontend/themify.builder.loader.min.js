/*
 Themify Builder - Asynchronous Script and Styles Loader */
'use strict';(function(b,f,c){let m;const C=function(){m.ajax({url:themify_vars.ajax_url,type:"POST",data:{action:"tb_load_editor"},success:function(d){var a=c.createElement("div");const k={},h={},e=c.createDocumentFragment();c.createDocumentFragment();const r=b.body[0],A=function(){k[this.src]=!0;m.ui&&m.fn.mouse&&m.fn.sortable&&b.trigger("tb_load_iframe");for(var a in h)if(!0!==k[a])return!1;a=c.createDocumentFragment();for(let c=0,b=x.length;c<b;++c)a.appendChild(x[c]);r.appendChild(a);f.tinymce&&
tinyMCE&&(a=tinyMCEPreInit.mceInit.tb_lb_hidden_editor.content_css.split(","),tinyMCEPreInit.mceInit.tb_lb_hidden_editor.wp_autoresize_on=!1,tinyMCEPreInit.mceInit.tb_lb_hidden_editor.content_css=a[1]?a[1]:a[0],tinyMCEPreInit.mceInit.tb_lb_hidden_editor.plugins="charmap,colorpicker,hr,lists,media,paste,tabfocus,textcolor,fullscreen,wordpress,wpautoresize,wpeditimage,wpemoji,wpgallery,wpdialogs,wptextpattern,wpview,wplink",tinyMCEPreInit.mceInit.tb_lb_hidden_editor.indent="simple",tinyMCEPreInit.mceInit.tb_lb_hidden_editor.ie7_compat=
!1,tinyMCEPreInit.mceInit.tb_lb_hidden_editor.root_name="div",tinyMCEPreInit.mceInit.tb_lb_hidden_editor.relative_urls=!0,tinyMCE.execCommand("mceRemoveEditor",!0,"tb_lb_hidden_editor"),m("#wp-tb_lb_hidden_editor-editor-container,#wp-tb_lb_hidden_editor-editor-tools").remove())};a.innerHTML=d;d=a.querySelector("#tb_tinymce_wrap").children;const x=[];for(let b=0,f=d.length;b<f;++b)if("SCRIPT"!==d[0].tagName||d[0].getAttribute("type")&&"text/javascript"!==d[0].getAttribute("type"))e.appendChild(d[0]);
else{a=c.createElement("script");for(let c=d[0].attributes,b=c.length-1;-1<b;--b)a.setAttribute(c[b].name,c[b].value);var g=d[0].getAttribute("src");g?void 0===h[g]&&null===c.querySelector('script[src="'+g+'"]')&&(a.async=!1,h[g]=!0,a.addEventListener("load",A,{once:!0,passive:!0}),a.addEventListener("error",A,{once:!0,passive:!0}),e.appendChild(a)):(g=d[0].innerHTML,a.innerHTML=g,-1===g.indexOf("tinyMCEPreInit.")&&-1===g.indexOf(".addI18n")&&-1===g.indexOf(".i18n")&&-1===g.indexOf("wp.editor")?e.appendChild(a):
x.push(a));d[0].remove()}try{r.appendChild(e)}catch(v){}}})},u=function(){let d;m=jQuery;if(!f.wp||!wp.customize){var a=c.getElementsByClassName("themify_builder_content");let b=c.getElementsByClassName("toggle_tb_builder")[0],f=!1;d=b?b.getElementsByClassName("tb_front_icon")[0].getAttribute("data-id"):!1;for(let b=a.length-1;-1<b;--b){var k=a[b].getAttribute("data-postid");let g=c.createElement("a");var h=c.createElement("span");k===d&&(f=!0);g.href="javascript:void(0);";g.className="tb_turn_on js-turn-on-builder";
h.className="dashicons dashicons-edit";h.setAttribute("data-id",k);g.appendChild(h);k=a[b].getAttribute("data-label");h=c.createElement("span");h.innerHTML=k?k:tbLoaderVars.turnOnBuilder;g.appendChild(h);a[b].insertAdjacentElement(k?"beforeBegin":"afterEnd",g)}b||(b=c.getElementsByClassName("js-turn-on-builder")[0])||(d=c.getElementsByClassName("dashicons-edit")[0].getAttribute("data-id"));!1===f?(d=null,b.classList.add("tb_disabled_turn_on")):b.classList.remove("tb_disabled_turn_on")}let e=0<f.location.href.indexOf("?")?
"&":"?";e=f.location.href.replace(f.location.hash,"").replace("#","")+e+"tb-preview=1&ver="+f.themify_vars.version;b.body.on("click.tb_loading",".toggle_tb_builder:not(.tb_disabled_turn_on) > a, a.js-turn-on-builder",function(a){a.preventDefault();a.stopPropagation();const h=this.classList.contains("tb_restriction");b.LoadAsync(tbLocalScript.builder_url+"/js/editor/themify-ticks.js",function(){h&&(TB_Ticks.init(tbLocalScript.ticks).show(),init())},null,null,function(){return!!f.TB_Ticks});b.body.off("click.tb_loading");
if(!h){var k=this.classList.contains("js-turn-on-builder")?this.childNodes[0].getAttribute("data-id"):d;if(k&&!this.parentNode.classList.contains("tb_disabled_turn_on")){b.lazyDisable=b.lazyScrolling=!0;null!==b.observer&&b.observer.disconnect();var g=[],v=m(c).scrollTop(),p=b.convert(c.head.getElementsByTagName("link")).concat(b.convert(c.head.getElementsByTagName("style"))),r=b.body.children(),w=c.createElement("div"),q=c.createElement("div"),y=c.createElement("div"),z=c.createElement("div"),u=
c.createElement("div"),n=c.createElement("iframe");w.className="tb_workspace_container";q.className="tb_vertical_bars";y.id="tb_left_bar";z.id="tb_right_bar";y.className=z.className="tb_middle_bar";u.className="tb_vertical_change_tooltip";n.className="tb_iframe";n.id=n.name="tb_iframe";n.scrolling=b.isTouch?"no":"yes";n.src=e+"&tb-id="+k;b.off("builder_load_module_partial");m(c).off("ajaxComplete");if(null!==tbLoaderVars.styles)for(var l in tbLoaderVars.styles)""!==tbLoaderVars.styles[l]&&(b.LoadCss(l,
tbLoaderVars.styles[l]),g[l+"?ver="+tbLoaderVars.styles[l]]=1);var t=c.createElement("div");a=c.createElement("div");l=c.createElement("div");var B=c.getElementsByClassName("tb_front_icon")[0];t.id="tb_alert";t.className="tb_busy";a.id="tb_fixed_bottom_scroll";a.className="tb_fixed_scroll";l.id="builder_progress";l.appendChild(c.createElement("div"));c.body.insertAdjacentElement("afterbegin",a);c.body.appendChild(t);B&&B.parentNode.appendChild(l);b.on("tb_load_iframe",function(){q.appendChild(y);
q.appendChild(n);q.appendChild(z);q.appendChild(u);w.appendChild(q);n.addEventListener("load",function(){const a=this,d=a.contentWindow;let h;b.body.one("themify_builder_ready",function(a){m(t).fadeOut(100,function(){this.classList.remove("tb_busy")});a=b.body[0].classList.contains("archive");let e="themify_builder_active builder-breakpoint-desktop page-loaded";b.isTouch&&(e+=" tb_touch");a&&(e+=" archive");"1"===tbLoaderVars.isGlobalStylePost&&(e+=" gs_post");b.body[0].className=e;b.body[0].removeAttribute("style");
w.style.display="block";a=d.tb_app.Instances.Builder[0].$el.offset().top;a>v&&(v=a);d.scrollTo(0,v);b.iframe=n;b.is_builder_active=!0;setTimeout(function(){r.hide();for(var a=p.length-1;-1<a;--a)if(p[a]&&p[a].parentNode){var e=p[a].href,l=p[a].id;e?g[e]||-1!==e.indexOf("wp-includes")||-1!==e.indexOf("admin-bar")||(p[a].setAttribute("disabled",!0),p[a].parentNode.removeChild(p[a])):"tf_fonts_style"!==l&&"tf_lazy_common"!==l&&p[a].parentNode.removeChild(p[a])}p=g=tbLoaderVars=t=null;m(".themify_builder_content,#wpadminbar,header").remove();
r.filter("ul,a,video,audio").filter(":not(:has(link))").remove();a="scroll tfsmartresize debouncedresize throttledresize resize mouseenter keydown keyup mousedown assignVideo".split(" ");e=m(f);l=m(c);for(let c=a.length-1;-1<c;--c)e.off(a[c]),l.off(a[c]),b.body.off(a[c]);c.documentElement.removeAttribute("style");c.documentElement.removeAttribute("class");const n=d.tbLocalScript.ticks;n.postID=k;h.hasClass("tb_restriction")?setTimeout(function(){c.body.appendChild(h.find("#tmpl-builder-restriction")[0]);
TB_Ticks.init(n,d).show()},1E3):setTimeout(function(){TB_Ticks.init(n,d).ticks()},5E3);setTimeout(function(){const a="ThemifyBuilderModuleJs c _wpemojiSettings twemoji themifyScript tbLocalScript tbScrollHighlight google ThemifyGallery Animation $f Froogaloop SliderProSlide SliderProUtils ThemifySlider FixedHeader LayoutAndFilter WOW Waypoint $slidernav google Microsoft Rellax module$contents$MapsEvent_MapsEvent module$contents$mapsapi$overlay$OverlayView_OverlayView wc_add_to_cart_params woocommerce_params wc_cart_fragments_params wc_single_product_params tf_mobile_menu_trigger_point themifyMobileMenuTrigger".split(" ");
for(let b=a.length-1;-1<b;--b)f[a[b]]&&(f[a[b]]=null);b.events={};f.wp.emoji=null;f.ajaxurl=themify_vars.ajax_url;b.cssLazy=[];for(let a=d.document.querySelectorAll("[data-lazy]"),b=a.length-1;-1<b;--b)a[b].removeAttribute("data-lazy")},3E3)},800)});const e=function(){d.themifyBuilder.post_ID=k;h=d.jQuery("body");h.trigger("builderiframeloaded.themify",a)};if("__rocketLoaderLoadProgressSimulator"in d){const a=setInterval(function(){"complete"===d.__rocketLoaderLoadProgressSimulator.simulatedReadyState&&
(clearInterval(a),e())},10)}else e()},{once:!0,passive:!0});c.body.appendChild(w)},!0);C()}}});b.body[0].classList.contains("tb_restriction")||-1!==f.location.href.indexOf("tb-id")||("#builder_active"===f.location.hash?(m(".toggle_tb_builder > a").first().click(),f.location.hash=""):(a=c.createElement("link"),a.href=e+(d?"&tb-id="+d:""),a.rel="prefetch",a.setAttribute("as","document"),c.head.appendChild(a)))};if(!0===f.loaded)u();else b.on("tf_init",u,!0)})(Themify,window,document);
